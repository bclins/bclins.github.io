\documentclass[11pt]{exam}
\usepackage[empty]{fullpage}
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{soul}
\usepackage{hyperref}
\usepackage{tcolorbox,minted} % For python code syntax highlighting

\newcommand{\blank}[1]{\underline{\hspace*{#1}}}
\newcommand{\ds}{\displaystyle}
\newcommand{\mymod}{\, \mathrm{mod}\,}

\begin{document}

\subsubsection*{Context Free Languages are in P \hfill CS 461 - Workshop}

\noindent
\begin{tcolorbox}
A grammar is in \textbf{Chomsky normal form} if all of its rule have one of the following forms:
\begin{enumerate}
\item $A \rightarrow BC$, where $B, C$ are not the start variable. 
\item $A \rightarrow a$, where $a$ is any terminal.
\item $S \rightarrow \epsilon$. 
\end{enumerate}
\textbf{Theorem} Any context free grammar is equivalent to a grammar in Chomsky normal form. 
\end{tcolorbox}



\begin{questions}
\question Let $G$ be a grammar in Chomsky normal form. Prove that if $w \in \Sigma^*$ can be generated by $G$ and $|w| = n$, then it takes exactly $2n-1$ steps to generate $w$ using $G$. 
\vfill

\question Consider the following grammar which is in Chomsky normal form.
\begin{center}
\begin{tabular}{cccc}
$S \rightarrow AR$ & $S \rightarrow a$ & $S \rightarrow \epsilon$ & \\
$R \rightarrow BT$ & $R \rightarrow b$ & $A \rightarrow a$ & $B \rightarrow b$ \\
$T \rightarrow CD$ & $T \rightarrow c$ & $C \rightarrow c$ & $D \rightarrow d$
\end{tabular}
\end{center}
Fill in the following table by listing all variables from $V = \{S, A, B, C, D, R, T\}$ that can generate each string. For example, \verb|c| can be generated by both $C$ and $T$.   
\begin{center}
\begin{tabular}{|l|l|l|l|}
\hline
\verb|a|: \hspace*{0.75in} & \verb|ab|: \hspace*{0.75in}  & \verb|abc|: \hspace*{0.75in} & \verb|abcd|: \hspace*{0.75in} \\ \hline
\verb|b|:  & \verb|bc|: & \verb|bcd|: &  \\ \hline
\verb|c|:  C, T & \verb|cd|:  & & \\ \hline
\verb|d|:  & & & \\ \hline
\end{tabular}
\end{center}
\bigskip

\question Let $w \in \Sigma^*$ with $|w|=n$. How many (contiguous) substrings can $w$ have?  Hint: think about the number of substrings of length 1, then length 2, etc.  It might help to think about a simple example like $w = \verb|abcde|$. 
\vfill



\newpage
\question The following algorithm uses dynamic programming to decided whether a string $w$ can be generated by a grammar in Chomsky normal form. The idea is to create a table to record variables that can generate substrings of $w$ and use it to decide if $w$ can be generated.
\begin{tcolorbox}
\begin{minted}{python}
# Build a table to track which substrings can be generated.
for substring of w: 
  if length(substring) == 1:
    for "A -> a" in rules:
      if substring == "a":
        add A to Table[substring]
  else:
    for k from 0 to length(substring):
      left_substring = substring[0:k]
      right_substring = substring[k+1:end]
      for "A -> BC" in rules:
        if B in Table[left_substring] and C in Table[right_substring]:
          add A to Table[substring]

# Then check if w can be generated.
if Table[w] includes "S":
  return True
else:
  return False
\end{minted}
\end{tcolorbox}
What is the running time (in big-O notation) for this algorithm to decide if a string $w$ with length $n$ can be generated by a grammar in Chomsky normal form?  
\vfill
\end{questions}
\end{document}
